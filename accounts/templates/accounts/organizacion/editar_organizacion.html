<!-- templates/editar_organizacion.html -->
{% extends 'accounts/base_dashboard.html' %}
{% load static %}
{% block title %}Organización{% endblock %}
{% block header %}Organización{% endblock %}
{% block content %}
<!-- SECCIÓN DE TÍTULO ENCABEZANDO -->
<div class="row">
    <div class="col">
        <h1 class="text-center">Organización</h1>
        <hr />
    </div>
</div>
<div class="alert alert-warning mb-4">
    <h4 class="alert-heading">¡Atención!</h4>
    <p>Este formulario es para cambiar datos de la organización. Al cambiar la información, no podrá recuperar la información cambiada.</p>
</div>
<p class="text-center"><strong>Cambie la información necesaria y haga clic en "Guardar Cambios".</strong></p>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="row">
        <!-- Columna para el logo -->
        <div class="col-md-4">
            <div class="form-group">
                <label for="{{ form.logo.id_for_label }}">Subir Logo</label>
                {{ form.logo }}
            </div>
            {% if organizacion.logo %}
                <h4>Logo Actual:</h4>
                <div style="border: 1px solid #ddd; padding: 10px; margin-bottom: 15px;">
                    <img src="{{ organizacion.logo.url }}" alt="Logo de la empresa" style="max-width: 100%; height: auto;">
                </div>
            {% endif %}
        </div>
        
        <!-- Columna para la información de la organización -->
        <div class="col-md-8">
            <div class="form-group">
                <label for="{{ form.nombre.id_for_label }}">Nombre de la Empresa</label>
                {{ form.nombre }}
            </div>
            <div class="form-group">
                <label for="{{ form.slogan.id_for_label }}">Eslogan</label>
                {{ form.slogan }}
            </div>
            <div class="form-group">
                <label for="{{ form.direccion.id_for_label }}">Dirección</label>
                {{ form.direccion }}
            </div>
            <div class="form-group">
                <label for="{{ form.telefono.id_for_label }}">Teléfono</label>
                {{ form.telefono }}
            </div>
            <div class="form-group">
                <label for="{{ form.pagina_web.id_for_label }}">Página Web</label>
                {{ form.pagina_web }}
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Guardar Cambios</button>
</form>

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    // Aquí se puede añadir cualquier otro script necesario
    const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
            confirmButton: "btn btn-success",
            cancelButton: "btn btn-danger"
        },
    });
    swalWithBootstrapButtons.fire({
        title: "¿Estás seguro?",
        text: "¡No podrás revertir los cambios!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: "Sí, seguro!",
        cancelButtonText: "No, cancelar!",
    }).then((result) => {
        if (result.isConfirmed) {
            // Acciones si se confirma
        } else if (result.dismiss === Swal.DismissReason.cancel) {
            // Redirigir a la página de inicio cuando se cancela
            window.location.href = "{% url 'home' %}"; // Cambia esta URL por la de tu página de inicio
        }
   });
</script>
{% endblock %}
{% endblock %}
